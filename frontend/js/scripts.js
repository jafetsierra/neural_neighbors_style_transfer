/*!
* Start Bootstrap - Shop Homepage v5.0.5 (https://startbootstrap.com/template/shop-homepage)
* Copyright 2013-2022 Start Bootstrap
* Licensed under MIT (https://github.com/StartBootstrap/startbootstrap-shop-homepage/blob/master/LICENSE)
*/
// This file is intentionally blank
// Use this file to add JavaScript to your project

const myForm   = document.getElementById('form');
const inpFile  = document.getElementById('file');
let output     = document.getElementById('output');
let app        = document.getElementById('app');
let options    = document.getElementById('app-options');
let src        = '';
let load       = document.getElementById ('load');
document.getElementById('b1').addEventListener("click", () => {
    options.style.display = "none";
    app.style.display = "flex";
    src = document.getElementById("s1").getAttribute('src').slice(9);
    console.log(src);
});
document.getElementById('b2').addEventListener("click", () => {
    options.style.display = "none";
    app.style.display = "flex";
    src = document.getElementById("s2").getAttribute('src').slice(9);
    console.log(src);
});
document.getElementById('b3').addEventListener("click", () => {
    options.style.display = "none";
    app.style.display = "flex";
    src = document.getElementById("s3").getAttribute('src').slice(9);
    console.log(src);
});
document.getElementById('b4').addEventListener("click", () => {
    options.style.display = "none";
    app.style.display = "flex";
    src = document.getElementById("s4").getAttribute('src').slice(9);
    console.log(src);
});
document.getElementById('b5').addEventListener("click", () => {
    options.style.display = "none";
    app.style.display = "flex";
    src = document.getElementById("s5").getAttribute('src').slice(9);
    console.log(src);
});
document.getElementById('b6').addEventListener("click", () => {
    options.style.display = "none";
    app.style.display = "flex";
    src = document.getElementById("s6").getAttribute('src').slice(9);
    console.log(src);
});
document.getElementById('b7').addEventListener("click", () => {
    options.style.display = "none";
    app.style.display = "flex";
    src = document.getElementById("s7").getAttribute('src').slice(9);
    console.log(src);
});
document.getElementById('b8').addEventListener("click", () => {
    options.style.display = "none";
    app.style.display = "flex";
    src = document.getElementById("s8").getAttribute('src').slice(9);
    console.log(src);
});
document.getElementById('b9').addEventListener("click", () => {
    options.style.display = "none";
    app.style.display = "flex";
    src = document.getElementById("s9").getAttribute('src').slice(9);
    console.log(src);
});
document.getElementById('b10').addEventListener("click", () => {
    options.style.display = "none";
    app.style.display = "flex";
    src = document.getElementById("s10").getAttribute('src').slice(9);
    console.log(src);
});
document.getElementById('b11').addEventListener("click", () => {
    options.style.display = "none";
    app.style.display = "flex";
    src = document.getElementById("s11").getAttribute('src').slice(9);
    console.log(src);
});
document.getElementById('b12').addEventListener("click", () => {
    options.style.display = "none";
    app.style.display = "flex";
    src = document.getElementById("s12").getAttribute('src').slice(9);
    console.log(src);
});
document.getElementById('b13').addEventListener("click", () => {
    options.style.display = "none";
    app.style.display = "flex";
    src = document.getElementById("s13").getAttribute('src').slice(9);
    console.log(src);
});
document.getElementById('b14').addEventListener("click", () => {
    options.style.display = "none";
    app.style.display = "flex";
    src = document.getElementById("s14").getAttribute('src').slice(9);
    console.log(src);
});
document.getElementById('b15').addEventListener("click", () => {
    options.style.display = "none";
    app.style.display = "flex";
    src = document.getElementById("s15").getAttribute('src').slice(9);
    console.log(src);
});
document.getElementById('b16').addEventListener("click", () => {
    options.style.display = "none";
    app.style.display = "flex";
    src = document.getElementById("s16").getAttribute('src').slice(9);
    console.log(src);
});
document.getElementById('b17').addEventListener("click", () => {
    options.style.display = "none";
    app.style.display = "flex";
    src = document.getElementById("s17").getAttribute('src').slice(9);
    console.log(src);
});
document.getElementById('b18').addEventListener("click", () => {
    options.style.display = "none";
    app.style.display = "flex";
    src = document.getElementById("s18").getAttribute('src').slice(9);
    console.log(src);
});
document.getElementById('b19').addEventListener("click", () => {
    options.style.display = "none";
    app.style.display = "flex";
    src = document.getElementById("s19").getAttribute('src').slice(9);
    console.log(src);
});
document.getElementById('b20').addEventListener("click", () => {
    options.style.display = "none";
    app.style.display = "flex";
    src = document.getElementById("s20").getAttribute('src').slice(9);
    console.log(src);
});
document.getElementById('b21').addEventListener("click", () => {
    options.style.display = "none";
    app.style.display = "flex";
    src = document.getElementById("s21").getAttribute('src').slice(9);
    console.log(src);
});
document.getElementById('b22').addEventListener("click", () => {
    options.style.display = "none";
    app.style.display = "flex";
    src = document.getElementById("s22").getAttribute('src').slice(9);
    console.log(src);
});
document.getElementById('b23').addEventListener("click", () => {
    options.style.display = "none";
    app.style.display = "flex";
    src = document.getElementById("s23").getAttribute('src').slice(9);
    console.log(src);
});
document.getElementById('b24').addEventListener("click", () => {
    options.style.display = "none";
    app.style.display = "flex";
    src = document.getElementById("s24").getAttribute('src').slice(9);
    console.log(src);
});
document.getElementById('b25').addEventListener("click", () => {
    options.style.display = "none";
    app.style.display = "flex";
    src = document.getElementById("s25").getAttribute('src').slice(9);
    console.log(src);
});
document.getElementById('b26').addEventListener("click", () => {
    options.style.display = "none";
    app.style.display = "flex";
    src = document.getElementById("s26").getAttribute('src').slice(9);
    console.log(src);
});
document.getElementById('b27').addEventListener("click", () => {
    options.style.display = "none";
    app.style.display = "flex";
    src = document.getElementById("s27").getAttribute('src').slice(9);
    console.log(src);
});
document.getElementById('b28').addEventListener("click", () => {
    options.style.display = "none";
    app.style.display = "flex";
    src = document.getElementById("s28").getAttribute('src').slice(9);
    console.log(src);
});
document.getElementById('b29').addEventListener("click", () => {
    options.style.display = "none";
    app.style.display = "flex";
    src = document.getElementById("s29").getAttribute('src').slice(9);
    console.log(src);
});
document.getElementById('b30').addEventListener("click", () => {
    options.style.display = "none";
    app.style.display = "flex";
    src = document.getElementById("s30").getAttribute('src').slice(9);
    console.log(src);
});
document.getElementById('b31').addEventListener("click", () => {
    options.style.display = "none";
    app.style.display = "flex";
    src = document.getElementById("s31").getAttribute('src').slice(9);
    console.log(src);
});
document.getElementById('b32').addEventListener("click", () => {
    options.style.display = "none";
    app.style.display = "flex";
    src = document.getElementById("s32").getAttribute('src').slice(9);
    console.log(src);
});
document.getElementById('b33').addEventListener("click", () => {
    options.style.display = "none";
    app.style.display = "flex";
    src = document.getElementById("s33").getAttribute('src').slice(9);
    console.log(src);
});
document.getElementById('b34').addEventListener("click", () => {
    options.style.display = "none";
    app.style.display = "flex";
    src = document.getElementById("s34").getAttribute('src').slice(9);
    console.log(src);
});
document.getElementById('b35').addEventListener("click", () => {
    options.style.display = "none";
    app.style.display = "flex";
    src = document.getElementById("s35").getAttribute('src').slice(9);
    console.log(src);
});
myForm.addEventListener("submit",event => {
    event.preventDefault();
    const files = inpFile.files;
    const formData = new FormData();
    //const style = document.getElementById('style').value;
    const style = src;
    console.log(style);
    formData.append('file', files[0]);
    let params = {
        "style_name": style
    }
    let query = Object.keys(params)
        .map(k => encodeURIComponent(k) + '=' + encodeURIComponent(params[k]))
        .join('&');
    console.log(query);
    let url = 'http://127.0.0.1:8000/?' + query
    var requestOptions = {
        method: 'POST',
        body: formData,
        redirect: 'follow'
    };
    app.style.display = "none";
    load.style.display = "flex";
    console.log(url);
    fetch(url, requestOptions)
    .then(response => response.text())
    .then(img_url => {
        app.style.display = "none";
        load.style.display = "none";
        output.setAttribute('src', img_url);
        // output.style.backgroundImage = "url('./app/results/test1.jpg')";
        // output.style.backgroundSize = "cover";
        console.log("result printed");
    })
    .catch(error => console.log('error', error));
});